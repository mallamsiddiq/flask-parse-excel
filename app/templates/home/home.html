{% set active_page = "home" %}



{% extends "base/base.html" %}

{% block title %} Home - All Users {% endblock %}


{% block otherstyle %}

<link rel="stylesheet" href='/static/css/home.css' />
<script type="text/JavaScript" src="/static/js/home.js"></script>

{% endblock %}

{% block content %}

<div class="panel-list">
    
    <h1>All Users</h1>
    <div class="row row-content">
        
        

        <div class="table-responsive-sm col-12">
            {% if users|length > 0 %}
            <table class="table table-sm table-panel table-desktop">
                <thead>
                <tr>
                    <th scope="col th-sm">#</th>
                    <th scope="col th-sm">Name</th>
                    <th scope="col th-sm">Salary</th>
                    <th scope="col th-sm">Date Joined</th>
                    {% if current_user.is_authenticated %}
                        <th scope="col th-sm">Total Years in Industry</th>
                    {% endif %}
                </tr>
                </thead> 
                <tbody>
                {% for user in users %}
                    <tr class='clickable-row' jkjk = '890' 

                    custom_url = "{{ url_for('home.user_detail', user_id = user.id) }}" >
                        <th scope="row">{{ loop.index }}</th>
                        <td>{{ user.name |title }}</td>
                        <td>{{ user.salary}}</td>
                        <td>{{ user.time_created.strftime('%Y/%m/%d') }}</td>
                        {% if current_user.is_authenticated %}
                        
                            <td>{{ user.total_years}} years</td>

                        {% endif %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            {% else %}
            <div class="text-center empty-table" style="display: block;">No Users to display</div>
            {% endif %}
        </div>
        <div>

            
        </div>
    </div>
</div>
{% endblock %}